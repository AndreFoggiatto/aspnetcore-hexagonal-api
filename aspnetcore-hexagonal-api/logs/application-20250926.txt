2025-09-26 16:04:34.964 -03:00 [INF] Starting ASP.NET Core Hexagonal API
2025-09-26 16:04:35.260 -03:00 [FTL] Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\andre\source\repos\aspnetcore-hexagonal-api\aspnetcore-hexagonal-api\Program.cs:line 50
2025-09-26 16:05:24.894 -03:00 [INF] Starting ASP.NET Core Hexagonal API
2025-09-26 16:05:30.064 -03:00 [INF] Executed DbCommand (212ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [HexagonalApiDb_Dev];
2025-09-26 16:05:30.130 -03:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [HexagonalApiDb_Dev] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-09-26 16:05:30.151 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-26 16:05:30.209 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-09-26 16:05:30.210 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-26 16:05:30.228 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-26 16:05:30.233 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-26 16:05:30.245 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-26 16:05:30.379 -03:00 [INF] ASP.NET Core Hexagonal API started successfully
2025-09-26 16:05:30.469 -03:00 [INF] Now listening on: http://localhost:5044
2025-09-26 16:05:30.470 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-26 16:05:30.471 -03:00 [INF] Hosting environment: Development
2025-09-26 16:05:30.471 -03:00 [INF] Content root path: C:\Users\andre\source\repos\aspnetcore-hexagonal-api\aspnetcore-hexagonal-api
2025-09-26 16:05:45.699 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5044/health - null null
2025-09-26 16:05:45.780 -03:00 [WRN] Failed to determine the https port for redirect.
2025-09-26 16:05:45.784 -03:00 [INF] Executing endpoint 'Health checks'
2025-09-26 16:05:45.833 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-26 16:05:45.850 -03:00 [INF] Executed endpoint 'Health checks'
2025-09-26 16:05:45.853 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5044/health - 200 null text/plain 155.998ms
2025-09-26 16:05:54.706 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5044/api/FeatureExample - null null
2025-09-26 16:05:54.709 -03:00 [INF] Executing endpoint 'aspnetcore_hexagonal_api.Features.FeatureExample.Controllers.FeatureExampleController.GetAll (aspnetcore-hexagonal-api)'
2025-09-26 16:05:54.731 -03:00 [INF] Route matched with {action = "GetAll", controller = "FeatureExample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(aspnetcore_hexagonal_api.Features.FeatureExample.Models.FeatureExampleQueryRequest) on controller aspnetcore_hexagonal_api.Features.FeatureExample.Controllers.FeatureExampleController (aspnetcore-hexagonal-api).
2025-09-26 16:05:55.018 -03:00 [ERR] Failed executing DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [FeatureExamples] AS [f]
WHERE [f].[IsActive] = CAST(1 AS bit)
2025-09-26 16:05:55.041 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'aspnetcore_hexagonal_api.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'FeatureExamples'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:0f7a32d4-6720-4848-b2cc-c16a9adac34d
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'FeatureExamples'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:0f7a32d4-6720-4848-b2cc-c16a9adac34d
Error Number:208,State:1,Class:16
2025-09-26 16:05:55.044 -03:00 [ERR] Error getting feature examples
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'FeatureExamples'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at aspnetcore_hexagonal_api.Features.FeatureExample.Adapters.FeatureExampleRepository.GetAllAsync(FeatureExampleQueryRequest request) in C:\Users\andre\source\repos\aspnetcore-hexagonal-api\aspnetcore-hexagonal-api\Features\FeatureExample\Adapters\FeatureExampleRepository.cs:line 81
   at aspnetcore_hexagonal_api.Features.FeatureExample.Application.FeatureExampleService.GetAllAsync(FeatureExampleQueryRequest request) in C:\Users\andre\source\repos\aspnetcore-hexagonal-api\aspnetcore-hexagonal-api\Features\FeatureExample\Application\FeatureExampleService.cs:line 122
ClientConnectionId:0f7a32d4-6720-4848-b2cc-c16a9adac34d
Error Number:208,State:1,Class:16
2025-09-26 16:05:55.068 -03:00 [INF] Executing ObjectResult, writing value of type 'aspnetcore_hexagonal_api.Features.FeatureExample.Models.ApiResponse`1[[aspnetcore_hexagonal_api.Features.FeatureExample.Models.PagedFeatureExampleResponse, aspnetcore-hexagonal-api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-26 16:05:55.118 -03:00 [INF] Executed action aspnetcore_hexagonal_api.Features.FeatureExample.Controllers.FeatureExampleController.GetAll (aspnetcore-hexagonal-api) in 383.0463ms
2025-09-26 16:05:55.118 -03:00 [INF] Executed endpoint 'aspnetcore_hexagonal_api.Features.FeatureExample.Controllers.FeatureExampleController.GetAll (aspnetcore-hexagonal-api)'
2025-09-26 16:05:55.118 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5044/api/FeatureExample - 500 null application/json; charset=utf-8 412.2798ms
2025-09-26 16:07:18.547 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5044/api/FeatureExample - null null
2025-09-26 16:07:18.549 -03:00 [INF] Executing endpoint 'aspnetcore_hexagonal_api.Features.FeatureExample.Controllers.FeatureExampleController.GetAll (aspnetcore-hexagonal-api)'
2025-09-26 16:07:18.549 -03:00 [INF] Route matched with {action = "GetAll", controller = "FeatureExample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(aspnetcore_hexagonal_api.Features.FeatureExample.Models.FeatureExampleQueryRequest) on controller aspnetcore_hexagonal_api.Features.FeatureExample.Controllers.FeatureExampleController (aspnetcore-hexagonal-api).
2025-09-26 16:07:18.556 -03:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [FeatureExamples] AS [f]
WHERE [f].[IsActive] = CAST(1 AS bit)
2025-09-26 16:07:18.557 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'aspnetcore_hexagonal_api.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'FeatureExamples'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:0f7a32d4-6720-4848-b2cc-c16a9adac34d
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'FeatureExamples'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:0f7a32d4-6720-4848-b2cc-c16a9adac34d
Error Number:208,State:1,Class:16
2025-09-26 16:07:18.558 -03:00 [ERR] Error getting feature examples
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'FeatureExamples'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at aspnetcore_hexagonal_api.Features.FeatureExample.Adapters.FeatureExampleRepository.GetAllAsync(FeatureExampleQueryRequest request) in C:\Users\andre\source\repos\aspnetcore-hexagonal-api\aspnetcore-hexagonal-api\Features\FeatureExample\Adapters\FeatureExampleRepository.cs:line 81
   at aspnetcore_hexagonal_api.Features.FeatureExample.Application.FeatureExampleService.GetAllAsync(FeatureExampleQueryRequest request) in C:\Users\andre\source\repos\aspnetcore-hexagonal-api\aspnetcore-hexagonal-api\Features\FeatureExample\Application\FeatureExampleService.cs:line 122
ClientConnectionId:0f7a32d4-6720-4848-b2cc-c16a9adac34d
Error Number:208,State:1,Class:16
2025-09-26 16:07:18.564 -03:00 [INF] Executing ObjectResult, writing value of type 'aspnetcore_hexagonal_api.Features.FeatureExample.Models.ApiResponse`1[[aspnetcore_hexagonal_api.Features.FeatureExample.Models.PagedFeatureExampleResponse, aspnetcore-hexagonal-api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-26 16:07:18.564 -03:00 [INF] Executed action aspnetcore_hexagonal_api.Features.FeatureExample.Controllers.FeatureExampleController.GetAll (aspnetcore-hexagonal-api) in 15.0439ms
2025-09-26 16:07:18.564 -03:00 [INF] Executed endpoint 'aspnetcore_hexagonal_api.Features.FeatureExample.Controllers.FeatureExampleController.GetAll (aspnetcore-hexagonal-api)'
2025-09-26 16:07:18.564 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5044/api/FeatureExample - 500 null application/json; charset=utf-8 17.3442ms
